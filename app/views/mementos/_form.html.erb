<%= form_for memento, html: { id: 'memento_form' } do |form| %>
  <% if memento.errors.any? %>
    <div id="error_explanation" class="bg-red-50 text-red-500 px-3 py-2 font-medium rounded-lg mt-3">
      <h2><%= pluralize(memento.errors.count, "error") %> prohibited this memento from being saved:</h2>

      <ul>
        <% memento.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="grid grid-cols-1 mx-6 sm:grid-cols-3 bg-white h-screen flex items-center">
    <div class="mx-auto hidden sm:flex flex-col gap-y-4">
      <button type="button" class="back-button rounded-full bg-lilac-deep p-1 lg:p-1.5 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
          <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5 8.25 12l7.5-7.5" />
        </svg>
      </button>
    </div>

    <div class="flex w-full mx-auto p-2 place-self-center flex-col gap-y-4">
      <div class="form-section" id="form_section_1">
        <div class="text-base leading-7 text-gray-700">
          <h1 id="desc_1" class="mt-2 text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl">What is your loved one's first name?</h1>
          <%= form.text_field :fname, id: 'input_1', class: "mt-2 w-full border-t-0 border-l-0 border-r-0 border-b-1 focus:ring-0 border-lilac-deep placeholder-gray-300", placeholder: memento&.fname || "First name", autofocus: true %>
        </div>
        <span class="text-sm leading-6 text-lilac-deep float-right" id="email-optional">Required</span>
      </div>
      <div class="form-section" id="form_section_2">
        <div class="text-base leading-7 text-gray-700">
          <h1 id="desc_2" class="mt-2 text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl">And last name?</h1>
          <%= form.text_field :lname, id: 'input_2', class: "mt-2 w-full border-t-0 border-l-0 border-r-0 border-b-1 focus:ring-0 border-lilac-deep placeholder-gray-300", placeholder: memento&.lname || "Last name", autofocus: true %>
        </div>
        <span class="text-sm leading-6 text-lilac-deep float-right" id="email-optional">Required</span>
      </div>
      <div class="form-section" id="form_section_3">
        <div class="text-base leading-7 text-gray-700">
          <h1 id="desc_1" class="mt-2 text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl">Were they known by any nickname?</h1>
          <%= form.text_field :nickname, id: 'input_3', class: "mt-2 w-full border-t-0 border-l-0 border-r-0 border-b-1 focus:ring-0 border-lilac-deep placeholder-gray-300", placeholder: memento&.fname || "Nickname", autofocus: true %>
        </div>
      </div>

      <%= form.fields_for :story do |story_fields| %>
        <div class="mt-12 form-section" id="form_section_4">
          <p class="text-lg font-semibold leading-8 tracking-tight text-lilac-deep placeholder-lilac-deep">Exposition</p>
          <h1 id="desc_3" class="mt-2 text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl">Tell us about the beginning of their life. When and where were they born, and to whom? What were their early interests and hobbies?</h1>
          <%= story_fields.text_area :exposition, id: 'input_4', class: "mt-2 w-full border-0 focus:ring-0 border-lilac-deep placeholder-text-gray-900", autofocus: true, rows: 10 %>
        </div>
        <div class="mt-12 lg:mx-0 form-section" id="form_section_5">
          <p class="text-lg font-semibold leading-8 tracking-tight text-lilac-deep placeholder-lilac-deep">Rising action</p>
          <h1 id="desc_4" class="mt-2 text-3xl font-bold tracking-tight placeholder-gray-900 sm:text-4xl">How did their life progress? What were some challenges they faced? What path did they take?</h1>
          <%= story_fields.text_area :rising_action, id: 'input_5', class: "mt-2 w-full border-0 focus:ring-0 border-lilac-deep", autofocus: true, rows: 10 %>
        </div>
        <div class="mt-12 max-w-2xl lg:mx-0 form-section" id="form_section_6">
          <p class="text-lg font-semibold leading-8 tracking-tight text-lilac-deep placeholder-lilac-deep">Climax</p>
          <h1 id="desc_5" class="mt-2 text-3xl font-bold tracking-tight placeholder-gray-900 sm:text-4xl">Expand on some of the challenges or opportunities in their life. What were the high points, the climaxes?</h1>
          <%= story_fields.text_area :climax, id: 'input_6', class: "mt-2 w-full border-0 focus:ring-0 border-lilac-deep", autofocus: true, rows: 10 %>
        </div>
        <div class="mt-12 max-w-2xl lg:mx-0 form-section" id="form_section_7">
          <p class="text-lg font-semibold leading-8 tracking-tight text-lilac-deep placeholder-lilac-deep">Falling action</p>
          <h1 id="desc_6" class="mt-2 text-3xl font-bold tracking-tight placeholder-gray-900 sm:text-4xl">How did their life continue after these high points?</h1>
          <%= story_fields.text_area :falling_action, id: 'input_7', class: "mt-2 w-full border-0 focus:ring-0 border-lilac-deep", autofocus: true, rows: 10 %>
        </div>
        <div class="mt-12 max-w-2xl lg:mx-0 form-section" id="form_section_8">
          <p class="text-lg font-semibold leading-8 tracking-tight text-lilac-deep placeholder-lilac-deep">Resolution</p>
          <h1 id="desc_7" class="mt-2 text-3xl font-bold tracking-tight placeholder-gray-900 sm:text-4xl">Finally, tell us about the end of their life. Did their life end unexpectedly? How did they face their own death? Who was around them when they passed?</h1>
          <%= story_fields.text_area :resolution, id: 'input_8', class: "mt-2 w-full border-0 focus:ring-0 border-lilac-deep", autofocus: true, rows: 10 %>
        </div>
      <% end %>

      <div class="place-self-center form-section" id="form_section_9">
        <%= form.submit class: "rounded-lg py-3 px-5 bg-lilac-deep text-white inline-block font-medium cursor-pointer" %>
      </div>
    </div>

    <div class="grid grid-cols-2 sm:hidden">
      <button type="button" class="rounded-md back-button bg-indigo-50 mx-2 px-2.5 py-1.5 text-sm font-semibold text-indigo-600 shadow-sm hover:bg-indigo-100">Previous</button>
      <button type="button" class="rounded-md next-button bg-lilac-deep mx-2 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600">Next</button>
    </div>

    <div class="mx-auto hidden sm:flex max-w-xs flex-col gap-y-4">
      <button type="button" class="next-button rounded-full bg-lilac-deep p-1 lg:p-1.5 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
          <path stroke-linecap="round" stroke-linejoin="round" d="m8.25 4.5 7.5 7.5-7.5 7.5" />
        </svg>
      </button>
    </div>
  </div>
<% end %>
